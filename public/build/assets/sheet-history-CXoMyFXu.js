import{a as f,r as a,j as e}from"./app-VO-bcIz4.js";import{A as p,a as u,b as h,u as j}from"./use-initials-CRLJjTFo.js";import{a as g,b as v,c as N,d as b,e as S}from"./sheet-D0YUWTSZ.js";import{b as k}from"./index-k-NMqa7T.js";import{S as w}from"./spinner-D9yRjejz.js";import{S as H}from"./separator-CplmBbPZ.js";/* empty css            */import"./index-CDMvbf3G.js";import"./index-BkJMQPGk.js";import"./index-w8ngPbkk.js";import"./index-B6x3NAUe.js";import"./index-Blrox13C.js";import"./createLucideIcon-Dz7_Xvh9.js";import"./Combination-BvqSQpzn.js";import"./index-d4thmrYG.js";import"./index-DE4duBNV.js";import"./loader-circle-B7vA0rcg.js";function J({sheetOpen:i,dataValue:o}){const{auth:c}=f().props,m=j(),[n,l]=a.useState([]),[d,r]=a.useState(!1),x=a.useCallback(async()=>{r(!0);try{const t=await(await fetch(k.gethistory(o.id).url)).json();l(t),r(!1)}catch(s){throw r(!1),s}},[]);return a.useEffect(()=>(i?x():l([]),()=>{}),[i]),e.jsxs(g,{children:[e.jsxs(v,{children:[e.jsx(N,{children:"Riwayat Berkas"}),e.jsx(b,{children:o.kegiatan})]}),e.jsx("div",{className:"grid flex-1 auto-rows-min overflow-y-auto p-4",children:e.jsx("div",{className:"relative",children:d?e.jsxs("div",{className:"flex gap-2 items-center text-sm text-foreground",children:[e.jsx(w,{}),"Loading..."]}):n.map((s,t)=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(p,{className:"h-9 w-9 overflow-hidden rounded-full",children:s.foto?e.jsx(u,{src:`/storage/foto/small/${s.foto}`,alt:c.user.name}):e.jsx(h,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:m(s.name)})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),e.jsx("div",{className:"text-sm font-medium text-foreground",children:s.name}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground gap-2",children:[e.jsx("div",{children:s.created_at}),e.jsx("div",{className:"ml-auto",children:s.jam})]}),e.jsxs("div",{className:"mt-2 truncate text-sm text-green-600",children:[s.status_berkas," berkas"]}),t<n.length-1&&e.jsx("div",{className:"py-2",children:e.jsx(H,{})})]})]},t))})}),e.jsx(S,{})]})}export{J as default};
