import{a as f,r as s,j as e}from"./app-D1IlTu5u.js";import{A as j,a as g,b as v,u as S}from"./use-initials-D8AitkTo.js";import{B as N}from"./button-fzuUEfQN.js";import{S as k,a as b,b as w,c as y,d as T,e as H}from"./sheet-DDwDAPpA.js";import{b as C,c as I,T as L,a as A}from"./tooltip-C7CR49Xy.js";import{b as B}from"./index-Bc3h0-F_.js";import{S as O}from"./spinner-CeRrIVJd.js";import{S as _}from"./separator-BqpG7xKS.js";import{c as E}from"./createLucideIcon-Civqs_1f.js";/* empty css            */import"./index-DqkVbXcP.js";import"./Combination-BpchLQkK.js";import"./index-DTje7vMj.js";import"./index-DX1InUT_.js";import"./index-6hOU0tmx.js";import"./index-DKQs3huY.js";import"./index-DKIbkDSZ.js";import"./index-DBfbyQKd.js";import"./index-DW9AIAM8.js";import"./loader-circle-Deq-QEXK.js";const M=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],R=E("History",M);function re({dataValue:o}){const{auth:c}=f().props,d=S(),[i,n]=s.useState(!1),[l,m]=s.useState([]),[x,r]=s.useState(!1),h=()=>{n(!0)},p=t=>{n(t)},u=s.useCallback(async()=>{r(!0);try{const a=await(await fetch(B.gethistory(o.id).url)).json();m(a),r(!1)}catch(t){throw r(!1),t}},[]);return s.useEffect(()=>(u(),()=>{}),[i]),e.jsxs(k,{open:i,onOpenChange:p,children:[e.jsx(C,{children:e.jsxs(I,{children:[e.jsx(L,{asChild:!0,children:e.jsx(N,{onClick:h,variant:"ghost",size:"sm",className:"h-7 w-7 text-muted-foreground",children:e.jsx(R,{})})}),e.jsx(A,{children:"Riwayat"})]})}),e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(y,{children:"Riwayat Berkas"}),e.jsx(T,{children:o.kegiatan})]}),e.jsx("div",{className:"grid flex-1 auto-rows-min overflow-y-auto p-4",children:e.jsx("div",{className:"relative",children:x?e.jsxs("div",{className:"flex gap-2 items-center text-sm text-foreground",children:[e.jsx(O,{}),"Loading..."]}):l.map((t,a)=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(j,{className:"h-9 w-9 overflow-hidden rounded-full",children:t.foto?e.jsx(g,{src:`/storage/${t.foto}`,alt:c.user.name}):e.jsx(v,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:d(t.name)})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),e.jsx("div",{className:"text-sm font-medium text-foreground",children:t.name}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground gap-2",children:[e.jsx("div",{children:t.created_at}),e.jsx("div",{className:"ml-auto",children:t.jam})]}),e.jsxs("div",{className:"mt-2 truncate text-sm text-green-600",children:[t.status_berkas," berkas"]}),a<l.length-1&&e.jsx("div",{className:"py-2",children:e.jsx(_,{})})]})]},a))})}),e.jsx(H,{})]})]})}export{re as default};
