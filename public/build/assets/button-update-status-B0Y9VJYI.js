import{c as J,u as L,r as I,j as t,a as M}from"./app-D-Kk4Z_u.js";import{b as N,c as O,T as U,a as $}from"./tooltip-BYHORf5t.js";import{B as z}from"./button-BzZXSjW_.js";import{S as K}from"./spinner-AmYUnR1W.js";import{t as C}from"./index-CDNVIVK-.js";import{b as Q}from"./index-Bc3h0-F_.js";import W from"./dialog-konfirmasi-sp2d-D6_36vDc.js";import{D as X}from"./dialog-Cy70B81N.js";import{C as Y}from"./check-DH75-WWk.js";import{C as Z,a as ss}from"./circle-slash-2-B1uPU1-q.js";/* empty css            */import"./index-CYbHFI1W.js";import"./index-ZFGrDKp8.js";import"./index-CPfAG2wl.js";import"./index-CzqVYzBW.js";import"./index-BUHGMr7x.js";import"./index-Br19meYy.js";import"./loader-circle-Cbgr5Prx.js";import"./createLucideIcon-CXiQxMFo.js";import"./index-DW9AIAM8.js";import"./table-BrHwMfcs.js";import"./index-DcYXrFNC.js";function Bs(q){const s=J.c(42),{updateStatusBerkas:S,dataValue:e}=q,{auth:o}=L().props,[n,g]=I.useState(!1),[u,f]=I.useState(null),P=o.user.roleuser.slug==="admin"||o.user.roleuser.slug==="verifikator";let x;s[0]!==u?(x=(i,d)=>u?.id===d&&u.type===i,s[0]=u,s[1]=x):x=s[1];const R=x;let j;s[2]!==u?.id?(j=i=>u?.id===i,s[2]=u?.id,s[3]=j):j=s[3];const G=j,T=R(2,e.id),v=R(3,e.id),D=R(4,e.id),A=G(e.id);let b;s[4]!==e.id||s[5]!==n||s[6]!==S?(b=(i,d)=>{f({id:e.id,type:d}),M.post(Q.addriwayat(i),{berkasid:i,statusberkas:d},{preserveScroll:!0,onSuccess:r=>{if(r.props.flash?.type==="success"){const l=r.props.newdata?.datas;S(l),f(null),C.success(r.props.flash?.message),g(n?!n:!1)}else r.props.flash?.type==="error"?(C.error(r.props.flash?.message),f(null)):(C.info("Beritahu admin terkait kesalahan ini."),f(null))},onError:()=>{C.error("terjadi kessalahan, hubungi admin"),f(null)}})},s[4]=e.id,s[5]=n,s[6]=S,s[7]=b):b=s[7];const a=b;let _;s[8]!==o.user.id||s[9]!==A||s[10]!==e.id||s[11]!==a||s[12]!==T?(_=i=>{const{dataRiwayat:d,statusBerkas:r}=i,l=d.some(k=>k.user_id===o.user.id&&k.status_berka_id===2);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${l?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:()=>a(e.id,2),disabled:A||r===3||r===4,children:T?t.jsx(K,{}):t.jsx(Y,{})})}),t.jsx($,{children:"Verifikasi"})]})})},s[8]=o.user.id,s[9]=A,s[10]=e.id,s[11]=a,s[12]=T,s[13]=_):_=s[13];const V=_;let y;s[14]!==o.user.id||s[15]!==e.id||s[16]!==a||s[17]!==v?(y=i=>{const{dataRiwayat:d}=i,r=d.some(l=>l.user_id===o.user.id&&l.status_berka_id===3);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${r?"bg-ring/50 dark:bg-sidebar-primary/20 text-muted-foreground":"text-muted-foreground"}`,onClick:()=>a(e.id,3),children:v?t.jsx(K,{}):t.jsx(Z,{})})}),t.jsx($,{children:"Penolakan"})]})})},s[14]=o.user.id,s[15]=e.id,s[16]=a,s[17]=v,s[18]=y):y=s[18];const E=y;let c;if(s[19]!==o.user.id||s[20]!==e.id||s[21]!==a||s[22]!==D){c=d=>{const{dataRiwayat:r,statusBerkas:l}=d,k=r.some(F=>F.user_id===o.user.id&&F.status_berka_id===4);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${k?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:l===4&&k?()=>a(e.id,4):i,children:D?t.jsx(K,{}):t.jsx(ss,{})})}),t.jsx($,{children:"Sp2d"})]})})};const i=()=>{g(!0)};s[19]=o.user.id,s[20]=e.id,s[21]=a,s[22]=D,s[23]=c}else c=s[23];let B;s[24]===Symbol.for("react.memo_cache_sentinel")?(B=i=>{g(i)},s[24]=B):B=s[24];const H=B;let m;s[25]!==e||s[26]!==n||s[27]!==a?(m=t.jsx(W,{dialogOpen:n,dataValue:e,handleAction:a}),s[25]=e,s[26]=n,s[27]=a,s[28]=m):m=s[28];let p;s[29]!==n||s[30]!==m?(p=t.jsx(X,{open:n,onOpenChange:H,children:m}),s[29]=n,s[30]=m,s[31]=p):p=s[31];let h;s[32]!==E||s[33]!==c||s[34]!==V||s[35]!==e.riwayats||s[36]!==e.status_berka_id||s[37]!==P?(h=P?t.jsxs("div",{className:"flex ml-auto gap-1.5",children:[t.jsx(V,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(E,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(c,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id})]}):null,s[32]=E,s[33]=c,s[34]=V,s[35]=e.riwayats,s[36]=e.status_berka_id,s[37]=P,s[38]=h):h=s[38];let w;return s[39]!==p||s[40]!==h?(w=t.jsxs(t.Fragment,{children:[p,h]}),s[39]=p,s[40]=h,s[41]=w):w=s[41],w}export{Bs as default};
