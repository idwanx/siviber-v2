import{a as f,r as t,j as e}from"./app-CPskstAv.js";import{A as j,a as g,b as v,u as S}from"./use-initials-Dg7l8F5j.js";import{B as b}from"./button-DVnw63hJ.js";import{S as N,a as w,b as k,c as T,d as H,e as y}from"./sheet-BS6VOPR3.js";import{T as C,a as I,b as A,c as B}from"./tooltip-8RJYWOsU.js";import{b as O}from"./index-DaAGmrkb.js";import{S as E}from"./spinner-5Uae_jPp.js";import{S as L}from"./separator-DWXuXNo7.js";import{H as R}from"./history-CAtt7JZT.js";/* empty css            */import"./index-B17OepHW.js";import"./Combination-awoxvRvc.js";import"./index-DNPXXR2E.js";import"./index-AjYOHAR7.js";import"./index-D1qKGPHi.js";import"./createLucideIcon-C2iFPrfA.js";import"./index-BvaIFVjI.js";import"./index-CYbzSx9y.js";import"./index-46n4DGVn.js";import"./index-CTsJdAZR.js";import"./index-DE4duBNV.js";import"./loader-circle-BadshYxY.js";function re({dataValue:i}){const{auth:m}=f().props,d=S(),[r,n]=t.useState(!1),[l,c]=t.useState([]),[x,o]=t.useState(!1),p=()=>{n(!0)},h=s=>{n(s)},u=t.useCallback(async()=>{o(!0);try{const a=await(await fetch(O.gethistory(i.id).url)).json();c(a),o(!1)}catch(s){throw o(!1),s}},[]);return t.useEffect(()=>(r?u():c([]),()=>{}),[r]),e.jsxs(N,{open:r,onOpenChange:h,children:[e.jsx(C,{children:e.jsxs(I,{children:[e.jsx(A,{asChild:!0,children:e.jsx(b,{onClick:p,variant:"ghost",size:"sm",className:"h-7 w-7 text-muted-foreground",tabIndex:8,children:e.jsx(R,{})})}),e.jsx(B,{children:"Riwayat"})]})}),e.jsxs(w,{children:[e.jsxs(k,{children:[e.jsx(T,{children:"Riwayat Berkas"}),e.jsx(H,{children:i.kegiatan})]}),e.jsx("div",{className:"grid flex-1 auto-rows-min overflow-y-auto p-4",children:e.jsx("div",{className:"relative",children:x?e.jsxs("div",{className:"flex gap-2 items-center text-sm text-foreground",children:[e.jsx(E,{}),"Loading..."]}):l.map((s,a)=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(j,{className:"h-9 w-9 overflow-hidden rounded-full",children:s.foto?e.jsx(g,{src:`/storage/foto/small/${s.foto}`,alt:m.user.name}):e.jsx(v,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:d(s.name)})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),e.jsx("div",{className:"text-sm font-medium text-foreground",children:s.name}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground gap-2",children:[e.jsx("div",{children:s.created_at}),e.jsx("div",{className:"ml-auto",children:s.jam})]}),e.jsxs("div",{className:"mt-2 truncate text-sm text-green-600",children:[s.status_berkas," berkas"]}),a<l.length-1&&e.jsx("div",{className:"py-2",children:e.jsx(L,{})})]})]},a))})}),e.jsx(y,{})]})]})}export{re as default};
