import{c as J,a as L,r as I,j as t,b as M}from"./app-BeX5yfZH.js";import{b as N,c as O,T as U,a as $}from"./tooltip-BqtrmuBl.js";import{B as z}from"./button-B5krPvKU.js";import{S as K}from"./spinner-BdFSMZGa.js";import{t as S}from"./index-KDn7zmYf.js";import{b as Q}from"./index-9gvoGEvc.js";import W from"./dialog-konfirmasi-sp2d-DXBQ5rP-.js";import{D as X}from"./dialog-qDcPRMAV.js";import{C as Y}from"./check-CI9dOQvf.js";import{C as Z,a as ss}from"./circle-slash-2--Hzdz3qN.js";/* empty css            */import"./index-BRecdF8i.js";import"./Combination-CvQPblDd.js";import"./index-DsaDD7fh.js";import"./index-CQmGMoIT.js";import"./index-CkZVWT9n.js";import"./index-DTX97f16.js";import"./index-Ci6of2N7.js";import"./loader-circle-CZ-1YUtV.js";import"./createLucideIcon-DsioBRLo.js";import"./index-DE4duBNV.js";import"./table-CDkRq6Rn.js";import"./index-BAPUsNVB.js";function ws(q){const s=J.c(45),{updateStatusBerkas:P,dataValue:e}=q,{auth:n}=L().props,[d,x]=I.useState(!1),[m,g]=I.useState(null),R=n.user.roleuser.slug==="admin"||n.user.roleuser.slug==="verifikator";let j;s[0]!==m?(j=(a,l)=>m?.id===l&&m.type===a,s[0]=m,s[1]=j):j=s[1];const T=j;let b;s[2]!==m?.id?(b=a=>m?.id===a,s[2]=m?.id,s[3]=b):b=s[3];const G=b,v=T(2,e.id),D=T(3,e.id),A=T(4,e.id),r=G(e.id);let _;s[4]!==e.id||s[5]!==d||s[6]!==P?(_=(a,l)=>{g({id:e.id,type:l}),M.post(Q.addriwayat(a),{berkasid:a,statusberkas:l},{preserveScroll:!0,onSuccess:i=>{if(i.props.flash?.type==="success"){const u=i.props.newdata?.datas;P(u),g(null),S.success(i.props.flash?.message),x(d?!d:!1)}else i.props.flash?.type==="error"?(S.error(i.props.flash?.message),g(null)):(S.info("Beritahu admin terkait kesalahan ini."),g(null))},onError:()=>{S.error("terjadi kessalahan, hubungi admin"),g(null)}})},s[4]=e.id,s[5]=d,s[6]=P,s[7]=_):_=s[7];const o=_;let y;s[8]!==n.user.id||s[9]!==r||s[10]!==e.id||s[11]!==o||s[12]!==v?(y=a=>{const{dataRiwayat:l,statusBerkas:i}=a,u=l.some(c=>c.user_id===n.user.id&&c.status_berka_id===2);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${u?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:()=>o(e.id,2),disabled:r||i===3||i===4,children:v?t.jsx(K,{}):t.jsx(Y,{})})}),t.jsx($,{children:"Verifikasi"})]})})},s[8]=n.user.id,s[9]=r,s[10]=e.id,s[11]=o,s[12]=v,s[13]=y):y=s[13];const V=y;let B;s[14]!==n.user.id||s[15]!==r||s[16]!==e.id||s[17]!==o||s[18]!==D?(B=a=>{const{dataRiwayat:l,statusBerkas:i}=a,u=l.some(c=>c.user_id===n.user.id&&c.status_berka_id===3);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${u?"bg-ring/50 dark:bg-sidebar-primary/20 text-muted-foreground":"text-muted-foreground"}`,onClick:()=>o(e.id,3),disabled:r||i===3&&!u||i===4,children:D?t.jsx(K,{}):t.jsx(Z,{})})}),t.jsx($,{children:"Penolakan"})]})})},s[14]=n.user.id,s[15]=r,s[16]=e.id,s[17]=o,s[18]=D,s[19]=B):B=s[19];const E=B;let p;if(s[20]!==n.user.id||s[21]!==r||s[22]!==e.id||s[23]!==o||s[24]!==A){p=l=>{const{dataRiwayat:i,statusBerkas:u}=l,c=i.some(F=>F.user_id===n.user.id&&F.status_berka_id===4);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${c?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:u===4&&c?()=>o(e.id,4):a,disabled:r||u===4&&!c||u===3,children:A?t.jsx(K,{}):t.jsx(ss,{})})}),t.jsx($,{children:"Sp2d"})]})})};const a=()=>{x(!0)};s[20]=n.user.id,s[21]=r,s[22]=e.id,s[23]=o,s[24]=A,s[25]=p}else p=s[25];let w;s[26]===Symbol.for("react.memo_cache_sentinel")?(w=a=>{x(a)},s[26]=w):w=s[26];const H=w;let h;s[27]!==r||s[28]!==e||s[29]!==d||s[30]!==o?(h=t.jsx(W,{dialogOpen:d,dataValue:e,handleAction:o,busy:r}),s[27]=r,s[28]=e,s[29]=d,s[30]=o,s[31]=h):h=s[31];let f;s[32]!==d||s[33]!==h?(f=t.jsx(X,{open:d,onOpenChange:H,children:h}),s[32]=d,s[33]=h,s[34]=f):f=s[34];let k;s[35]!==E||s[36]!==p||s[37]!==V||s[38]!==e.riwayats||s[39]!==e.status_berka_id||s[40]!==R?(k=R?t.jsxs("div",{className:"flex ml-auto gap-1.5",children:[t.jsx(V,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(E,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(p,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id})]}):null,s[35]=E,s[36]=p,s[37]=V,s[38]=e.riwayats,s[39]=e.status_berka_id,s[40]=R,s[41]=k):k=s[41];let C;return s[42]!==f||s[43]!==k?(C=t.jsxs(t.Fragment,{children:[f,k]}),s[42]=f,s[43]=k,s[44]=C):C=s[44],C}export{ws as default};
