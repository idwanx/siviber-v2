import{r as t,j as e}from"./app-Nnpf0Yjb.js";import{a as b,b as g,c as k,d as v,e as N}from"./dialog-BmdzxTnc.js";import{B as m}from"./button-CZtW5cUo.js";import{T as w,a as S,b as l,c as x,d as y,e as i}from"./table-BowvZKhR.js";import{S as D}from"./spinner-CPwGq93N.js";import{b as C}from"./index-k-NMqa7T.js";import{A as T,a as I,b as B,u as A}from"./use-initials-tDx1CZ3f.js";import{C as E}from"./check-DP7ni25o.js";/* empty css            */import"./index-DaDGgbN1.js";import"./createLucideIcon-DMjRc2Qq.js";import"./index-18IcZOUG.js";import"./index-CYSYhfCW.js";import"./Combination-CqYlejUA.js";import"./index-UnaY78Db.js";import"./index-HUo4dkiy.js";import"./loader-circle-B23g9Qpl.js";import"./index-DE4duBNV.js";function X({dialogOpen:n,dataValue:s,handleAction:f,busy:p}){const[d,c]=t.useState([]),[h,o]=t.useState(!1),j=A(),u=t.useCallback(async()=>{o(!0);try{const r=await(await fetch(C.getverifikator(s.id).url)).json();c(r),o(!1)}catch(a){throw o(!1),a}},[]);return t.useEffect(()=>{if(n)u();else return()=>c([])},[n]),e.jsx(e.Fragment,{children:e.jsxs(b,{className:"p-0 sm:max-w-xl 2xl:max-w-2xl top-0 mt-6 translate-y-0",onInteractOutside:a=>{a.preventDefault()},children:[e.jsxs(g,{className:"px-6 pt-4",children:[e.jsx(k,{className:"text-lg font-semibold text-foreground",children:"Konfirmasi SP2D"}),e.jsxs(v,{children:["Kegiatan:"," ",s.kegiatan,e.jsx("br",{}),"No. SPM:"," ",s.no_spm]})]}),e.jsx("div",{className:"2xl:max-h-100 max-h-80 overflow-y-auto mx-4 border rounded-md",children:e.jsxs(w,{children:[e.jsx(S,{children:e.jsxs(l,{children:[e.jsx(x,{children:"Verifikator"}),e.jsx(x,{className:"w-40 text-center",children:"Cek"})]})}),e.jsx(y,{children:h?e.jsx(l,{children:e.jsx(i,{colSpan:4,children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(D,{}),"Loading..."]})})}):d.length>0?d.map((a,r)=>e.jsxs(l,{children:[e.jsx(i,{className:"whitespace-normal font-medium'}",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"h-9 w-9 overflow-hidden rounded-full",children:a.foto?e.jsx(I,{src:`/storage/foto/small/${a.foto}`,alt:a.name}):e.jsx(B,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:j(a.name)})}),e.jsx("div",{className:"text-sm font-medium text-foreground",children:a.name})]},r)}),e.jsx(i,{className:"text-center",children:a.jumlah_riwayat>0?e.jsx("div",{className:"flex justify-center",children:e.jsx(E,{size:23,className:"text-foreground"})}):e.jsx("span",{className:"text-muted-foreground",children:"Belum verifikasi"})})]},r)):e.jsx(l,{children:e.jsx(i,{colSpan:2,children:"Tidak ada data."})})})]})}),e.jsx("div",{className:"border-t bg-muted dark:bg-background rounded-b-md px-4 py-4",children:e.jsxs("div",{className:"flex justify-between gap-2 flex-col-reverse sm:flex-row",children:[e.jsx("span",{className:"text-sm text-foreground",children:"Jika tetap akan melanjutkan ke status berkas Sp2d maka klik tombol Sp2d, jika tidak klik tombol batal."}),e.jsxs("div",{className:"flex flex-col-reverse gap-2 sm:flex-row",children:[e.jsx(m,{variant:"default",type:"button",tabIndex:1,onClick:()=>f(s.id,4),disabled:p,autoFocus:!0,children:"Sp2d"}),e.jsx(N,{asChild:!0,children:e.jsx(m,{variant:"outline",tabIndex:2,children:"Batal"})})]})]})})]})})}export{X as default};
