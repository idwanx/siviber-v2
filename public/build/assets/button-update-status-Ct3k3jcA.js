import{c as ss,a as es,r as F,j as e,b as ts}from"./app-DS3yq01B.js";import{b as q,c as G,T as H,a as J}from"./tooltip-5icsF8KJ.js";import{B as L}from"./button-IMg0YNrC.js";import{S as M}from"./spinner-AJBdRMEe.js";import{t as v}from"./index-CeYhZ2hr.js";import{b as as}from"./index-k-NMqa7T.js";import is from"./dialog-konfirmasi-sp2d-kMYq2w5w.js";import{D as W}from"./dialog-CAaHBRsG.js";import rs from"./dialog-batal-sp2d-R-yYAtO7.js";import{C as os}from"./check-DV9piqTk.js";import{C as ns,a as ls}from"./circle-slash-2-BjdQisV4.js";/* empty css            */import"./index-DB9vzDHw.js";import"./index-D_Aa4q9v.js";import"./index-Cv5zlNUN.js";import"./index-v_Jr0HbI.js";import"./index-CksScFoX.js";import"./Combination-qRydZ8Au.js";import"./index-DbHVFIV-.js";import"./index-DeUP0RG9.js";import"./index-BC3k-hUq.js";import"./index-C87w1uGY.js";import"./loader-circle-Dybj1mKO.js";import"./createLucideIcon-DUqRVlph.js";import"./index-DE4duBNV.js";import"./table-BqG6NLch.js";import"./use-initials-HPw6FG9y.js";import"./index-ByLRH1qE.js";import"./triangle-alert-BPbr3lZR.js";function Vs(X){const s=ss.c(55),{updateStatusBerkas:I,dataValue:t}=X,{auth:l}=es().props,[d,B]=F.useState(!1),[u,y]=F.useState(!1),[p,_]=F.useState(null),A=l.user.roleuser.slug==="admin"||l.user.roleuser.slug==="verifikator";let S;s[0]!==p?(S=(i,r)=>p?.id===r&&p.type===i,s[0]=p,s[1]=S):S=s[1];const O=S;let w;s[2]!==p?.id?(w=i=>p?.id===i,s[2]=p?.id,s[3]=w):w=s[3];const Y=w,E=O(2,t.id),N=O(3,t.id),U=O(4,t.id),a=Y(t.id);let C;s[4]!==t.id||s[5]!==u||s[6]!==d||s[7]!==I?(C=(i,r)=>{_({id:t.id,type:r}),ts.post(as.addriwayat(i.id),{berkasid:i.id,statusberkas:r},{preserveScroll:!0,onSuccess:o=>{if(o.props.flash?.type==="success"){const c=o.props.newdata?.datas;I(c),_(null),v.success(o.props.flash?.message),B(d?!d:!1),y(u?!u:!1)}else o.props.flash?.type==="error"?(v.error(o.props.flash?.message),_(null)):(v.info("Beritahu admin terkait kesalahan ini."),_(null))},onError:()=>{v.error("terjadi kessalahan, hubungi admin"),_(null)}})},s[4]=t.id,s[5]=u,s[6]=d,s[7]=I,s[8]=C):C=s[8];const n=C;let P;s[9]!==l.user.id||s[10]!==a||s[11]!==t||s[12]!==n||s[13]!==E?(P=i=>{const{dataRiwayat:r,statusBerkas:o}=i,c=r.some(m=>m.user_id===l.user.id&&m.status_berka_id===2);return e.jsx(q,{children:e.jsxs(G,{children:[e.jsx(H,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:`h-7 w-7 ${c?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:()=>n(t,2),disabled:a||o===3||o===4,tabIndex:10,children:E?e.jsx(M,{}):e.jsx(os,{})})}),e.jsx(J,{children:"Verifikasi"})]})})},s[9]=l.user.id,s[10]=a,s[11]=t,s[12]=n,s[13]=E,s[14]=P):P=s[14];const V=P;let R;s[15]!==l.user.id||s[16]!==a||s[17]!==t||s[18]!==n||s[19]!==N?(R=i=>{const{dataRiwayat:r,statusBerkas:o}=i,c=r.some(m=>m.user_id===l.user.id&&m.status_berka_id===3);return e.jsx(q,{children:e.jsxs(G,{children:[e.jsx(H,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:`h-7 w-7 ${c?"bg-ring/50 dark:bg-sidebar-primary/20 text-muted-foreground":"text-muted-foreground"}`,onClick:()=>n(t,3),disabled:a||o===3&&!c||o===4,tabIndex:11,children:N?e.jsx(M,{}):e.jsx(ns,{})})}),e.jsx(J,{children:"Penolakan"})]})})},s[15]=l.user.id,s[16]=a,s[17]=t,s[18]=n,s[19]=N,s[20]=R):R=s[20];const $=R;let f,h;if(s[21]!==l.user.id||s[22]!==a||s[23]!==U){f=c=>{const{dataRiwayat:m,statusBerkas:z}=c,K=m.some(Q=>Q.user_id===l.user.id&&Q.status_berka_id===4);return e.jsx(q,{children:e.jsxs(G,{children:[e.jsx(H,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:`h-7 w-7 ${K?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:z===4&&K?o:i,disabled:a||z===4&&!K||z===3,tabIndex:12,children:U?e.jsx(M,{}):e.jsx(ls,{})})}),e.jsx(J,{children:"Sp2d"})]})})};const i=()=>{B(!0)};let r;s[26]===Symbol.for("react.memo_cache_sentinel")?(r=c=>{B(c)},s[26]=r):r=s[26],h=r;const o=()=>{y(!0)};s[21]=l.user.id,s[22]=a,s[23]=U,s[24]=f,s[25]=h}else f=s[24],h=s[25];let T;s[27]===Symbol.for("react.memo_cache_sentinel")?(T=i=>{y(i)},s[27]=T):T=s[27];const Z=T;let g;s[28]!==a||s[29]!==t||s[30]!==d||s[31]!==n?(g=e.jsx(is,{dialogOpen:d,dataValue:t,handleAction:n,busy:a}),s[28]=a,s[29]=t,s[30]=d,s[31]=n,s[32]=g):g=s[32];let k;s[33]!==d||s[34]!==h||s[35]!==g?(k=e.jsx(W,{open:d,onOpenChange:h,children:g}),s[33]=d,s[34]=h,s[35]=g,s[36]=k):k=s[36];let x;s[37]!==a||s[38]!==t||s[39]!==n?(x=e.jsx(rs,{dataValue:t,handleAction:n,busy:a}),s[37]=a,s[38]=t,s[39]=n,s[40]=x):x=s[40];let j;s[41]!==u||s[42]!==x?(j=e.jsx(W,{open:u,onOpenChange:Z,children:x}),s[41]=u,s[42]=x,s[43]=j):j=s[43];let b;s[44]!==$||s[45]!==f||s[46]!==V||s[47]!==t.riwayats||s[48]!==t.status_berka_id||s[49]!==A?(b=A?e.jsxs("div",{className:"flex ml-auto gap-1.5",children:[e.jsx(V,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id}),e.jsx($,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id}),e.jsx(f,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id})]}):null,s[44]=$,s[45]=f,s[46]=V,s[47]=t.riwayats,s[48]=t.status_berka_id,s[49]=A,s[50]=b):b=s[50];let D;return s[51]!==j||s[52]!==b||s[53]!==k?(D=e.jsxs(e.Fragment,{children:[k,j,b]}),s[51]=j,s[52]=b,s[53]=k,s[54]=D):D=s[54],D}export{Vs as default};
