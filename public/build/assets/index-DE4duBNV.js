let d=()=>({});const a=t=>t===!0?"1":t===!1?"0":t.toString(),l=(t,i,n)=>{Object.entries(t).forEach(([e,r])=>{if(r===void 0)return;const s=`${i}[${e}]`;Array.isArray(r)?r.forEach(o=>n.append(`${s}[]`,a(o))):r!==null&&typeof r=="object"?l(r,s,n):["string","number","boolean"].includes(typeof r)&&n.set(s,a(r))})},u=t=>{if(!t||!t.query&&!t.mergeQuery)return"";const i=t.query??t.mergeQuery,n=t.mergeQuery!==void 0,e=new URLSearchParams(n&&typeof window<"u"?window.location.search:"");for(const s in i){const o=i[s];if(o==null){e.delete(s);continue}Array.isArray(o)?(e.has(`${s}[]`)&&e.delete(`${s}[]`),o.forEach(c=>{e.append(`${s}[]`,c.toString())})):typeof o=="object"?(e.forEach((c,f)=>{f.startsWith(`${s}[`)&&e.delete(f)}),l(o,s,e)):e.set(s,a(o))}const r=e.toString();return r.length>0?`?${r}`:""},y=t=>{const i={...t??{}},n=d();for(const e in n)i[e]===void 0&&n[e]!==void 0&&(i[e]=n[e]);return i},g=(t,i)=>{const n=i.filter(r=>!t?.[r]),e=i.slice(n.length*-1);for(let r=0;r<n.length;r++)if(n[r]!==e[r])throw Error("Unexpected optional parameters missing. Unable to generate a URL.")};export{y as a,u as q,g as v};
