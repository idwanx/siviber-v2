import{c as J,a as L,r as F,j as e,b as M}from"./app-QsFjKLqj.js";import{b as I,c as N,T as O,a as U}from"./tooltip-BgG_2yyy.js";import{B as $}from"./button-BVKKkBB_.js";import{S as z}from"./spinner-Cg1z9Fyg.js";import{t as S}from"./index-XSHtiTGU.js";import{b as Q}from"./index-MX-v5c8A.js";import W from"./dialog-konfirmasi-sp2d-DbkU1NF0.js";import{D as X}from"./dialog-CMaa6wM-.js";import{C as Y}from"./check-Bu2oXLnJ.js";import{C as Z,a as ss}from"./circle-slash-2-z9mPdfWB.js";/* empty css            */import"./index-CAWyr-Y1.js";import"./index-BV8UABlM.js";import"./Combination-B3zKKnKi.js";import"./index-aLHPSIyM.js";import"./index-haDg-nJO.js";import"./index-Bjm-lcaj.js";import"./index-RedtZAlT.js";import"./index-DV1vgH-2.js";import"./loader-circle-Bg2y03Mk.js";import"./createLucideIcon-DLfcZYNN.js";import"./table-DzyPjxOD.js";import"./use-initials-CbicAAry.js";import"./index-CJJlrIlC.js";function Cs(q){const s=J.c(45),{updateStatusBerkas:P,dataValue:t}=q,{auth:n}=L().props,[d,x]=F.useState(!1),[m,g]=F.useState(null),R=n.user.roleuser.slug==="admin"||n.user.roleuser.slug==="verifikator";let b;s[0]!==m?(b=(a,l)=>m?.id===l&&m.type===a,s[0]=m,s[1]=b):b=s[1];const T=b;let j;s[2]!==m?.id?(j=a=>m?.id===a,s[2]=m?.id,s[3]=j):j=s[3];const G=j,v=T(2,t.id),D=T(3,t.id),A=T(4,t.id),r=G(t.id);let _;s[4]!==t.id||s[5]!==d||s[6]!==P?(_=(a,l)=>{g({id:t.id,type:l}),M.post(Q.addriwayat(a),{berkasid:a,statusberkas:l},{preserveScroll:!0,onSuccess:i=>{if(i.props.flash?.type==="success"){const u=i.props.newdata?.datas;P(u),g(null),S.success(i.props.flash?.message),x(d?!d:!1)}else i.props.flash?.type==="error"?(S.error(i.props.flash?.message),g(null)):(S.info("Beritahu admin terkait kesalahan ini."),g(null))},onError:()=>{S.error("terjadi kessalahan, hubungi admin"),g(null)}})},s[4]=t.id,s[5]=d,s[6]=P,s[7]=_):_=s[7];const o=_;let y;s[8]!==n.user.id||s[9]!==r||s[10]!==t.id||s[11]!==o||s[12]!==v?(y=a=>{const{dataRiwayat:l,statusBerkas:i}=a,u=l.some(c=>c.user_id===n.user.id&&c.status_berka_id===2);return e.jsx(I,{children:e.jsxs(N,{children:[e.jsx(O,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",className:`h-7 w-7 ${u?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:()=>o(t.id,2),disabled:r||i===3||i===4,tabIndex:10,children:v?e.jsx(z,{}):e.jsx(Y,{})})}),e.jsx(U,{children:"Verifikasi"})]})})},s[8]=n.user.id,s[9]=r,s[10]=t.id,s[11]=o,s[12]=v,s[13]=y):y=s[13];const V=y;let B;s[14]!==n.user.id||s[15]!==r||s[16]!==t.id||s[17]!==o||s[18]!==D?(B=a=>{const{dataRiwayat:l,statusBerkas:i}=a,u=l.some(c=>c.user_id===n.user.id&&c.status_berka_id===3);return e.jsx(I,{children:e.jsxs(N,{children:[e.jsx(O,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",className:`h-7 w-7 ${u?"bg-ring/50 dark:bg-sidebar-primary/20 text-muted-foreground":"text-muted-foreground"}`,onClick:()=>o(t.id,3),disabled:r||i===3&&!u||i===4,tabIndex:11,children:D?e.jsx(z,{}):e.jsx(Z,{})})}),e.jsx(U,{children:"Penolakan"})]})})},s[14]=n.user.id,s[15]=r,s[16]=t.id,s[17]=o,s[18]=D,s[19]=B):B=s[19];const E=B;let p;if(s[20]!==n.user.id||s[21]!==r||s[22]!==t.id||s[23]!==o||s[24]!==A){p=l=>{const{dataRiwayat:i,statusBerkas:u}=l,c=i.some(K=>K.user_id===n.user.id&&K.status_berka_id===4);return e.jsx(I,{children:e.jsxs(N,{children:[e.jsx(O,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",className:`h-7 w-7 ${c?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:u===4&&c?()=>o(t.id,4):a,disabled:r||u===4&&!c||u===3,tabIndex:12,children:A?e.jsx(z,{}):e.jsx(ss,{})})}),e.jsx(U,{children:"Sp2d"})]})})};const a=()=>{x(!0)};s[20]=n.user.id,s[21]=r,s[22]=t.id,s[23]=o,s[24]=A,s[25]=p}else p=s[25];let w;s[26]===Symbol.for("react.memo_cache_sentinel")?(w=a=>{x(a)},s[26]=w):w=s[26];const H=w;let h;s[27]!==r||s[28]!==t||s[29]!==d||s[30]!==o?(h=e.jsx(W,{dialogOpen:d,dataValue:t,handleAction:o,busy:r}),s[27]=r,s[28]=t,s[29]=d,s[30]=o,s[31]=h):h=s[31];let f;s[32]!==d||s[33]!==h?(f=e.jsx(X,{open:d,onOpenChange:H,children:h}),s[32]=d,s[33]=h,s[34]=f):f=s[34];let k;s[35]!==E||s[36]!==p||s[37]!==V||s[38]!==t.riwayats||s[39]!==t.status_berka_id||s[40]!==R?(k=R?e.jsxs("div",{className:"flex ml-auto gap-1.5",children:[e.jsx(V,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id}),e.jsx(E,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id}),e.jsx(p,{dataRiwayat:t.riwayats,statusBerkas:t.status_berka_id})]}):null,s[35]=E,s[36]=p,s[37]=V,s[38]=t.riwayats,s[39]=t.status_berka_id,s[40]=R,s[41]=k):k=s[41];let C;return s[42]!==f||s[43]!==k?(C=e.jsxs(e.Fragment,{children:[f,k]}),s[42]=f,s[43]=k,s[44]=C):C=s[44],C}export{Cs as default};
