import{c as J,a as L,r as I,j as t,b as M}from"./app-tvxViyuL.js";import{b as N,c as O,T as U,a as $}from"./tooltip-D0x0BnLb.js";import{B as z}from"./button-Bp2YXeu1.js";import{S as K}from"./spinner-Blzvo2QF.js";import{t as S}from"./index-CGAptwru.js";import{b as Q}from"./index-Bc3h0-F_.js";import W from"./dialog-konfirmasi-sp2d-CnruiMAr.js";import{D as X}from"./dialog-KUkT60ek.js";import{C as Y}from"./check-DCpPKZ2-.js";import{C as Z,a as ss}from"./circle-slash-2-DA-5yuk1.js";/* empty css            */import"./index-DjZKFfuZ.js";import"./Combination-WH4R416K.js";import"./index-Dcot5mlu.js";import"./index-HliJH0qE.js";import"./index-CZe7sMWE.js";import"./index-O9NFMsFU.js";import"./index-B5DGF9Jx.js";import"./loader-circle-CzL4j258.js";import"./createLucideIcon-BzT8sp-i.js";import"./index-DW9AIAM8.js";import"./table-B99PVJzk.js";import"./index-EbmCQObk.js";function ws(q){const s=J.c(44),{updateStatusBerkas:P,dataValue:e}=q,{auth:o}=L().props,[n,x]=I.useState(!1),[m,g]=I.useState(null),R=o.user.roleuser.slug==="admin"||o.user.roleuser.slug==="verifikator";let j;s[0]!==m?(j=(a,d)=>m?.id===d&&m.type===a,s[0]=m,s[1]=j):j=s[1];const T=j;let b;s[2]!==m?.id?(b=a=>m?.id===a,s[2]=m?.id,s[3]=b):b=s[3];const G=b,v=T(2,e.id),D=T(3,e.id),A=T(4,e.id),u=G(e.id);let _;s[4]!==e.id||s[5]!==n||s[6]!==P?(_=(a,d)=>{g({id:e.id,type:d}),M.post(Q.addriwayat(a),{berkasid:a,statusberkas:d},{preserveScroll:!0,onSuccess:i=>{if(i.props.flash?.type==="success"){const l=i.props.newdata?.datas;P(l),g(null),S.success(i.props.flash?.message),x(n?!n:!1)}else i.props.flash?.type==="error"?(S.error(i.props.flash?.message),g(null)):(S.info("Beritahu admin terkait kesalahan ini."),g(null))},onError:()=>{S.error("terjadi kessalahan, hubungi admin"),g(null)}})},s[4]=e.id,s[5]=n,s[6]=P,s[7]=_):_=s[7];const r=_;let y;s[8]!==o.user.id||s[9]!==u||s[10]!==e.id||s[11]!==r||s[12]!==v?(y=a=>{const{dataRiwayat:d,statusBerkas:i}=a,l=d.some(c=>c.user_id===o.user.id&&c.status_berka_id===2);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${l?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:()=>r(e.id,2),disabled:u||i===3||i===4,children:v?t.jsx(K,{}):t.jsx(Y,{})})}),t.jsx($,{children:"Verifikasi"})]})})},s[8]=o.user.id,s[9]=u,s[10]=e.id,s[11]=r,s[12]=v,s[13]=y):y=s[13];const V=y;let B;s[14]!==o.user.id||s[15]!==u||s[16]!==e.id||s[17]!==r||s[18]!==D?(B=a=>{const{dataRiwayat:d,statusBerkas:i}=a,l=d.some(c=>c.user_id===o.user.id&&c.status_berka_id===3);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${l?"bg-ring/50 dark:bg-sidebar-primary/20 text-muted-foreground":"text-muted-foreground"}`,onClick:()=>r(e.id,3),disabled:u||i===3&&!l||i===4,children:D?t.jsx(K,{}):t.jsx(Z,{})})}),t.jsx($,{children:"Penolakan"})]})})},s[14]=o.user.id,s[15]=u,s[16]=e.id,s[17]=r,s[18]=D,s[19]=B):B=s[19];const E=B;let p;if(s[20]!==o.user.id||s[21]!==u||s[22]!==e.id||s[23]!==r||s[24]!==A){p=d=>{const{dataRiwayat:i,statusBerkas:l}=d,c=i.some(F=>F.user_id===o.user.id&&F.status_berka_id===4);return t.jsx(N,{children:t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsx(z,{variant:"ghost",size:"sm",className:`h-7 w-7 ${c?"bg-ring/50 dark:bg-sidebar-primary/20":"text-muted-foreground"}`,onClick:l===4&&c?()=>r(e.id,4):a,disabled:u||l===4&&!c||l===3,children:A?t.jsx(K,{}):t.jsx(ss,{})})}),t.jsx($,{children:"Sp2d"})]})})};const a=()=>{x(!0)};s[20]=o.user.id,s[21]=u,s[22]=e.id,s[23]=r,s[24]=A,s[25]=p}else p=s[25];let w;s[26]===Symbol.for("react.memo_cache_sentinel")?(w=a=>{x(a)},s[26]=w):w=s[26];const H=w;let h;s[27]!==e||s[28]!==n||s[29]!==r?(h=t.jsx(W,{dialogOpen:n,dataValue:e,handleAction:r}),s[27]=e,s[28]=n,s[29]=r,s[30]=h):h=s[30];let f;s[31]!==n||s[32]!==h?(f=t.jsx(X,{open:n,onOpenChange:H,children:h}),s[31]=n,s[32]=h,s[33]=f):f=s[33];let k;s[34]!==E||s[35]!==p||s[36]!==V||s[37]!==e.riwayats||s[38]!==e.status_berka_id||s[39]!==R?(k=R?t.jsxs("div",{className:"flex ml-auto gap-1.5",children:[t.jsx(V,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(E,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id}),t.jsx(p,{dataRiwayat:e.riwayats,statusBerkas:e.status_berka_id})]}):null,s[34]=E,s[35]=p,s[36]=V,s[37]=e.riwayats,s[38]=e.status_berka_id,s[39]=R,s[40]=k):k=s[40];let C;return s[41]!==f||s[42]!==k?(C=t.jsxs(t.Fragment,{children:[f,k]}),s[41]=f,s[42]=k,s[43]=C):C=s[43],C}export{ws as default};
